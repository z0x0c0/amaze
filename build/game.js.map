{"version":3,"sources":["webpack:///webpack/bootstrap 56fab7414619ae5a2104","webpack:///./scripts/game.ts","webpack:///./scripts/states/Boot.ts","webpack:///./scripts/states/Preloader.ts","webpack:///./scripts/states/MainMenu.ts","webpack:///./scripts/states/Arena.ts","webpack:///./scripts/filters/UnderseaFilter.ts","webpack:///./scripts/components/Player.ts","webpack:///./scripts/components/Controls.ts","webpack:///./scripts/components/Maze.ts","webpack:///./scripts/filters/GlowFilter.ts","webpack:///./scripts/components/CollisionManager.ts"],"names":["AMaze","AMaze.constructor","AMaze.quitGame","Boot","Boot.constructor","Boot.preload","Boot.create","Preloader","Preloader.constructor","Preloader.preload","Preloader.create","Arena","Arena.constructor","Arena.preload","Arena.create","Arena.update","UnderseaFilter","UnderseaFilter.constructor","Player","Player.constructor","Player.ensureBulletsCreated","Player.turnLeft","Player.turnRight","Player.stopRotation","Player.forward","Player.backward","Player.die","Player.trail","Player.fire","Player.physicalPosition","Player.update","Keyboard","Keyboard.constructor","Keyboard.process","Mouse","Mouse.constructor","Mouse.process","Maze","Maze.constructor","Maze._addRectangle","Maze.addWall","Maze.addWalls","GlowFilter","GlowFilter.constructor","GlowFilter.color","GlowFilter.outerStrength","GlowFilter.innerStrength","GlowFilter.textureWidth","GlowFilter.textureHeight","CollisionManager","CollisionManager.constructor","CollisionManager.find","CollisionManager.reset"],"mappings":"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","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 56fab7414619ae5a2104\n **/","// Phaser is included separately into a global scope - can't make it (and PIXI) load through webpack \r\n\r\nimport Boot from './states/Boot';\r\nimport Preloader from './states/Preloader';\r\nimport MainMenu from './states/MainMenu';\r\nimport Arena from './states/Arena';\r\n\r\nexport default class AMaze extends Phaser.Game {\r\n\tstatic game: AMaze;\r\n\r\n\tconstructor() {\r\n\t\tsuper('100%', '100%', Phaser.AUTO, 'content');\r\n\r\n\t\tthis.state.add('Boot', Boot, false);\r\n\t\tthis.state.add('Preloader', Preloader, false);\r\n\t\tthis.state.add('MainMenu', MainMenu, false);\r\n\t\tthis.state.add('Arena', Arena, false);\r\n\r\n\t\t//this.time.slowMotion = 10;\r\n\t\tthis.state.start('Boot');\r\n\t}\r\n\t\r\n\tquitGame() {\r\n\t\tthis.state.start('MainMenu');\r\n\t}\r\n};\r\n\r\nAMaze.game = new AMaze();\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/game.ts\n **/","export default class Boot extends Phaser.State {\r\n\tpreload() {\r\n\t}\r\n\t\r\n\tcreate() {\r\n\t\tthis.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\t\t\r\n\t\tthis.game.state.start('Preloader', true, false);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/states/Boot.ts\n **/","export default class Preloader extends Phaser.State {\r\n\tpreload() {\r\n\t\tthis.load.image('player', 'assets/car.png');\r\n\t\tthis.load.image('bullet', 'assets/carrot.png');\r\n\t\tthis.load.image('trail', 'assets/bubble.png');\r\n\t}\r\n\t\r\n\tcreate() {\r\n\t\tthis.game.state.start('MainMenu', true, false);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/states/Preloader.ts\n **/","export default class Boot extends Phaser.State {\r\n\tpreload() {\r\n\t}\r\n\t\r\n\tcreate() {\r\n\t\tthis.game.state.start('Arena', true, false);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/states/MainMenu.ts\n **/","import UnderseaFilter from '../filters/UnderseaFilter';\r\nimport Player from '../components/Player';\r\nimport * as Controls from '../components/Controls';\r\nimport Maze from '../components/Maze';\r\nimport CollisionManager from '../components/CollisionManager';\r\n\r\nexport default class Arena extends Phaser.State {\r\n\tprivate _bgFilter: Phaser.Filter;\r\n\tprivate _players: Phaser.Group;\r\n\tprivate _maze: Maze;\r\n\t\r\n\tpublic collisions: CollisionManager;\r\n\t\r\n\tpreload() {\r\n\t}\r\n\t\r\n\tcreate() {\r\n\t\tthis.game.physics.startSystem(Phaser.Physics.P2JS);\r\n\t\tthis.game.physics.p2.restitution = 0.8;\r\n\t\tthis.game.physics.p2.updateBoundsCollisionGroup();\r\n\r\n\t\tthis.collisions = new CollisionManager(this.game, {\r\n\t\t\t'players': ['players', 'bullets', 'walls'],\r\n\t\t\t'bullets': ['players', 'bullets', 'walls'],\r\n\t\t\t'walls': ['players', 'bullets']\r\n\t\t});\r\n\r\n\t\tthis._bgFilter = new UnderseaFilter(this.game);\r\n\t\tthis._bgFilter.addToWorld(0, 0, this.game.width, this.game.height);\r\n\t\t\r\n\t\tlet playerOptions = [\r\n\t\t\t{\r\n\t\t\t\thueShift: 0,\r\n\t\t\t\tcontrols: new Controls.Keyboard(this.game, Phaser.Keyboard.UP, Phaser.Keyboard.DOWN, Phaser.Keyboard.LEFT, Phaser.Keyboard.RIGHT, Phaser.Keyboard.CONTROL)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\thueShift: 0.33,\r\n\t\t\t\tcontrols: new Controls.Keyboard(this.game, Phaser.Keyboard.W, Phaser.Keyboard.S, Phaser.Keyboard.A, Phaser.Keyboard.D, Phaser.Keyboard.SPACEBAR)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\thueShift: 0.66,\r\n\t\t\t\tcontrols: new Controls.Mouse(this.game)\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\tthis._players = this.game.add.group(this.game.world, 'players', false, true, Phaser.Physics.P2JS);\r\n\t\tplayerOptions.forEach(options => this._players.add(new Player(this.game, options)));\r\n\t\tthis.collisions.reset(this._players);\r\n\t\t\r\n\t\tthis._maze = new Maze(this.game);\r\n\t}\r\n\t\r\n\tupdate() {\r\n\t\tthis._bgFilter.update();\r\n\t\tthis._players.forEach(player => player.update(), this);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/states/Arena.ts\n **/","export default class UnderseaFilter extends Phaser.Filter {\r\n    constructor(game: Phaser.Game) {\r\n        let fragmentSrc = `\r\n            precision mediump float;\r\n\r\n            uniform float     time;\r\n            uniform vec2      resolution;\r\n            uniform vec2      mouse;\r\n\r\n            #define MAX_ITER 4\r\n\r\n            void main( void )\r\n            {\r\n                vec2 v_texCoord = gl_FragCoord.xy / resolution;\r\n\r\n                vec2 p =  v_texCoord * 8.0 - vec2(20.0);\r\n                vec2 i = p;\r\n                float c = 1.0;\r\n                float inten = .05;\r\n\r\n                for (int n = 0; n < MAX_ITER; n++)\r\n                {\r\n                    float t = time * (1.0 - (3.0 / float(n+1)));\r\n\r\n                    i = p + vec2(cos(t - i.x) + sin(t + i.y),\r\n                    sin(t - i.y) + cos(t + i.x));\r\n\r\n                    c += 1.0/length(vec2(p.x / (sin(i.x+t)/inten),\r\n                    p.y / (cos(i.y+t)/inten)));\r\n                }\r\n\r\n                c /= float(MAX_ITER);\r\n                c = 1.5 - sqrt(c);\r\n\r\n                vec4 texColor = vec4(0.0, 0.01, 0.015, 1.0);\r\n\r\n                texColor.rgb *= (1.0 / (1.0 - (c + 0.05)));\r\n\r\n                gl_FragColor = texColor;\r\n            }`;\r\n        super(game, null, fragmentSrc);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/filters/UnderseaFilter.ts\n **/","import {IControls} from './Controls';\r\nimport CollisionManager from '../components/CollisionManager';\r\n\r\nexport default class Player extends Phaser.Sprite {\r\n\tprivate static _bullets: Phaser.Group;\r\n\tprivate static _bulletsCollisionGroup: Phaser.Physics.P2.CollisionGroup;\r\n\t\r\n\tprivate _controls: IControls;\r\n    private _trail: Phaser.Particles.Arcade.Emitter;\r\n\tprivate _nextFire: number;\r\n\tprivate _fireRate: number;\r\n\t\r\n\tconstructor(game: Phaser.Game, options: any) {\r\n        let image = game.make.image(0, 0, 'player');\r\n        let bitmap = game.make.bitmapData(image.width, image.height);\r\n        bitmap.copy(image).update().shiftHSL(options.hueShift, 0, 0);\r\n\r\n\t\tsuper(game, game.world.randomX, game.world.randomY, bitmap);\r\n        this.anchor.setTo(0.5, 0.5);\r\n\r\n        game.physics.p2.enable(this);\r\n        this.body.damping = .8;\r\n        this.body.collideWorldBounds = true;\r\n\r\n\t\tthis._controls = options.controls;\r\n\t\t\r\n\t\tthis._nextFire = 0;\r\n\t\tthis._fireRate = 300;\r\n\t\t\r\n\t\tthis.ensureBulletsCreated();\r\n\t\t\r\n\t\tthis.body.onBeginContact.add((other, other2, thisShape, otherShape) => {\r\n            if (otherShape.collisionGroup & Player._bulletsCollisionGroup.mask) {\r\n                this.die();\r\n            }\r\n        });\r\n\t\t\r\n        this._trail = game.add.emitter(0, 0, 100);\r\n        this._trail.makeParticles('trail');\r\n        this._trail.setRotation(0, 0);\r\n        this._trail.gravity = 0;\r\n        this._trail.setAlpha(0.1, 1, 1000);\r\n        this._trail.setScale(0.1, .2, 0.1, 0.2, 2000, Phaser.Easing.Quintic.Out);\r\n\t}\r\n\t\r\n\tprivate ensureBulletsCreated() {\r\n\t\tif (!Player._bullets) {\r\n\t\t\tPlayer._bullets = this.game.add.group(this.game.world, 'bullets', false, true, Phaser.Physics.P2JS);\r\n\t\t\t//Player._bullets.enableBodyDebug = true;\r\n\t\t\tPlayer._bullets.createMultiple(50, 'bullet', 0, false);\r\n\t\t\tPlayer._bullets.setAll('collideWorldBounds', true);\r\n\r\n\t\t\t// TODO: use some IoC\r\n\t\t\tlet collisions: CollisionManager = (<any>this.game.state.getCurrentState()).collisions;\r\n\t\t\tcollisions.reset(Player._bullets);\r\n\r\n\t\t\tPlayer._bulletsCollisionGroup = collisions.find(Player._bullets).group;\r\n\t\t}\r\n\t}\r\n\t\r\n\tturnLeft() {\r\n\t\tthis.body.rotateLeft(100);\r\n\t}\r\n\t\r\n\tturnRight() {\r\n\t\tthis.body.rotateRight(100);\r\n\t}\r\n\t\r\n\tstopRotation() {\r\n\t\tthis.body.setZeroRotation();\r\n\t}\r\n\t\r\n\tforward() {\r\n\t\tthis.body.thrust(400);\r\n\t\tthis.trail();\r\n\t}\r\n\t\r\n\tbackward() {\r\n\t\tthis.body.reverse(400);\r\n\t}\r\n\t\r\n    die() {\r\n        this.reset(this.game.world.randomX, this.game.world.randomY);\r\n    }\r\n\r\n    trail() {\r\n        let trailOffset = 20;\r\n        let maxParticleSpeed = 100;\r\n\r\n        let trailDirection = this.body.rotation + Math.PI / 2;\r\n        let normal = {\r\n            x: Math.cos(trailDirection),\r\n            y: Math.sin(trailDirection)\r\n        };\r\n\r\n        let clampSpeed = speed => this.game.math.clamp(speed, -maxParticleSpeed, maxParticleSpeed);\r\n        \r\n        this._trail.minParticleSpeed.setTo(clampSpeed((normal.x - 1) * maxParticleSpeed), clampSpeed((normal.y - 1) * maxParticleSpeed));\r\n        this._trail.maxParticleSpeed.setTo(clampSpeed((normal.x + 1) * maxParticleSpeed), clampSpeed((normal.y + 1) * maxParticleSpeed));\r\n\r\n        this._trail.emitX = this.body.x + normal.x * trailOffset;\r\n        this._trail.emitY = this.body.y + normal.y * trailOffset;\r\n\r\n        if (!this._trail.on) {\r\n            this._trail.flow(1500, 8, 1, 20);\r\n        }\r\n    }\r\n\t\r\n    fire() {\r\n        if (this.game.time.now > this._nextFire && Player._bullets.countDead() > 0) {\r\n            this._nextFire = this.game.time.now + this._fireRate;\r\n\r\n            let bullet: Phaser.Sprite = Player._bullets.getFirstExists(false);\r\n            bullet.lifespan = 5000;\r\n\r\n            let body: Phaser.Physics.P2.Body = bullet.body;\r\n\r\n            let bulletSpeed = 500;\r\n            let bulletOffset = 32;\r\n            let bulletDirection = this.body.rotation - Math.PI / 2;\r\n\r\n            let normal = {\r\n                x: Math.cos(bulletDirection),\r\n                y: Math.sin(bulletDirection)\r\n            };\r\n\r\n            let bounds = this.game.world.bounds;\r\n            let position = {\r\n                x: this.game.math.clamp(this.body.x + normal.x * bulletOffset, bounds.x, bounds.x + bounds.width),\r\n                y: this.game.math.clamp(this.body.y + normal.y * bulletOffset, bounds.y, bounds.y + bounds.height)\r\n            };\r\n\r\n            bullet.reset(position.x, position.y);\r\n            body.rotation = this.body.rotation;\r\n\r\n            body.velocity.x = normal.x * bulletSpeed;\r\n            body.velocity.y = normal.y * bulletSpeed;\r\n        }\r\n    }\r\n\t\r\n\tget physicalPosition(): Phaser.Point {\r\n\t\t//return this._sprite.position;\r\n\t\treturn new Phaser.Point(this.body.x, this.body.y);\r\n\t}\r\n\t\r\n\tupdate() {\r\n\t\tthis._controls.process(this);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/Player.ts\n **/","import Player from './Player';\r\n\r\nexport interface IControls {\r\n    process(player: Player): void;\r\n};\r\n\r\nexport class Keyboard implements IControls {\r\n    private _keys;\r\n\r\n    constructor(game: Phaser.Game, up, down, left, right, fire) {\r\n        let keys = {\r\n            'left': left,\r\n            'right': right,\r\n            'up': up,\r\n            'down': down,\r\n            'fire': fire\r\n        };\r\n\r\n        this._keys = game.input.keyboard.addKeys(keys);\r\n    }\r\n\r\n    process(player: Player) {\r\n        if (this._keys.left.isDown) {\r\n            player.turnLeft();\r\n        }\r\n        else if (this._keys.right.isDown) {\r\n            player.turnRight();\r\n        }\r\n        else {\r\n            player.stopRotation();\r\n        }\r\n\r\n        if (this._keys.up.isDown) {\r\n            player.forward();\r\n        }\r\n        else if (this._keys.down.isDown) {\r\n            player.backward();\r\n        }\r\n\r\n        if (this._keys.fire.isDown) {\r\n            player.fire();\r\n        }\r\n    }\r\n};\r\n\r\nexport class Mouse implements IControls {\r\n    private _pointer: Phaser.Pointer;\r\n    constructor(game: Phaser.Game) {\r\n        this._pointer = game.input.activePointer;\r\n    }\r\n\r\n    process(player: Player) {\r\n        let playerPosition = player.physicalPosition;\r\n        let dx = this._pointer.worldX - playerPosition.x;\r\n        let dy = this._pointer.worldY - playerPosition.y;\r\n        // FIXME: to much implementation details knowledge here - switch to turnLeft/turnRight\r\n        player.body.rotation = Math.atan2(dy, dx) + Math.PI / 2;\r\n\r\n        if ((dx * dx + dy * dy) > 100 * 100) {\r\n            player.forward();\r\n        }\r\n\r\n        if (this._pointer.leftButton.isDown) {\r\n            player.fire();\r\n        }\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/Controls.ts\n **/","import GlowFilter from '../filters/GlowFilter';\r\nimport AMaze from '../Game';\r\nimport CollisionManager from '../components/CollisionManager'; \r\n\r\ninterface Dimensions {\r\n\tx: number,\r\n\ty: number\r\n};\r\n\r\nexport default class Maze extends Phaser.Group {\r\n\tprivate _rnd: Phaser.RandomDataGenerator;\r\n\tprivate _grid: Dimensions;\r\n\tprivate _cell: Dimensions;\r\n\tprivate _wallThickness: number;\r\n\r\n\tconstructor(game: Phaser.Game, options: any = {}) {\r\n        // We want to create physics body after we've painted in the graphics to match dimensions.\r\n        // Pass enableBody == false and enable physics explicitly after creation\r\n\t\tsuper(game, game.world, 'walls', false, false, Phaser.Physics.P2JS);\r\n\t\t//this.enableBodyDebug = true;\r\n\t\tthis.classType = Phaser.Graphics;\r\n\t\t\r\n\t\tthis._rnd = game.rnd;\r\n\t\t\r\n\t\tlet mazeColor = options.mazeColor || 0x007fff;\r\n\t\tlet wallThickness = options.wallThickness || 10;\r\n\t\tlet minCellWidth = options.minCellWidth || 200;\r\n\r\n\t\tthis.filters = [new GlowFilter(game, game.width, game.height, 15, 2, 1, mazeColor, .1)];\r\n\t\tthis.filterArea = new PIXI.Rectangle(0, 0, game.width, game.height);\r\n\t\t\r\n        // Offset a wall thikness to make space for overlap (described below) at the leftmost/bottom sides\r\n        let mazeWidth = game.width - wallThickness;;\r\n        let mazeHeight = game.height - wallThickness;\r\n        this._grid = {\r\n            x: Math.ceil(mazeWidth / minCellWidth),\r\n            y: Math.ceil(mazeHeight / minCellWidth)\r\n        };\r\n\r\n        this._cell = {\r\n            x: mazeWidth / this._grid.x,\r\n            y: mazeHeight / this._grid.y\r\n        };\r\n\t\t\r\n\t\tthis._wallThickness = wallThickness;\r\n\r\n\t\tthis.addWalls({\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\twidth: this._grid.x,\r\n\t\t\theight: this._grid.y\r\n\t\t});\r\n\r\n\t\tthis.setAll('body.static', true);\r\n        // TODO: use some IoC\r\n        let collisions: CollisionManager = (<any>game.state.getCurrentState()).collisions;\r\n        collisions.reset(this);\r\n\t}\r\n\t\r\n    _addRectangle(x, y, width, height): Phaser.Graphics {\r\n        let radius = 4;\r\n        let wall: Phaser.Graphics = this.create(0, 0);\r\n\r\n        // PIXI.PolyK can't triangulate some of the rounded rectangles - fallback to simple ones\r\n        // Note: copy/paste from PIXI.WebGLGraphics.buildRoundedRectangle\r\n        let recPoints = [];\r\n        recPoints.push(x, y + radius);\r\n        recPoints = recPoints.concat(PIXI.WebGLGraphics.quadraticBezierCurve(x, y + height - radius, x, y + height, x + radius, y + height));\r\n        recPoints = recPoints.concat(PIXI.WebGLGraphics.quadraticBezierCurve(x + width - radius, y + height, x + width, y + height, x + width, y + height - radius));\r\n        recPoints = recPoints.concat(PIXI.WebGLGraphics.quadraticBezierCurve(x + width, y + radius, x + width, y, x + width - radius, y));\r\n        recPoints = recPoints.concat(PIXI.WebGLGraphics.quadraticBezierCurve(x + radius, y, x, y, x, y + radius));\r\n        let triangles = PIXI.PolyK.Triangulate(recPoints);\r\n\r\n        // We draw black walls with mazeColor glow in order to make glowing edges insted of solid walls\r\n        wall.beginFill(0);\r\n        if (triangles) {\r\n            wall.drawRoundedRect(x, y, width, height, radius);\r\n        } else {\r\n            wall.drawRect(x, y, width, height);\r\n        }\r\n        wall.endFill();\r\n\r\n        return wall;\r\n    }\r\n\r\n    addWall(x, y, length, isHorizontal) {\r\n\t\tconst wallThickness = this._wallThickness;\r\n\t\t\r\n        let rect = {\r\n            x: x * this._cell.x,\r\n            y: y * this._cell.y,\r\n            // Make perpendicular walls overlap in order to make junctions prettier\r\n            width: isHorizontal ? length * this._cell.x + wallThickness : wallThickness,\r\n            height: isHorizontal ? wallThickness : length * this._cell.y + wallThickness\r\n        };\r\n\r\n        // P2 bodies are relative to their center of mass\r\n        // draw rectangle around (0, 0) in order to align with physics\r\n        let wall = this._addRectangle(-rect.width / 2, -rect.height / 2, rect.width, rect.height);\r\n        this.game.physics.enable(wall, this.physicsBodyType, this.enableBodyDebug);\r\n        wall.reset(rect.x + rect.width / 2, rect.y + rect.height / 2);\r\n    }\r\n\r\n    addWalls(area) {\r\n        if (area.width <= 1 || area.height <= 1) {\r\n            return;\r\n        }\r\n\r\n        let isHorizontal;\r\n        if (area.width > area.height) {\r\n            isHorizontal = false;\r\n        } else if (area.width < area.height) {\r\n            isHorizontal = true;\r\n        } else {\r\n            isHorizontal = this._rnd.pick([true, false]);\r\n        }\r\n\r\n        if (isHorizontal) {\r\n            // Do not try to add walls on the outside of the area\r\n            let pivot = this._rnd.integerInRange(area.y + 1, area.y + area.height - 1);\r\n            let totalLength = area.width;\r\n\r\n            let numberOfHoles = this._rnd.integerInRange(1, totalLength / 2);\r\n            let holes = [totalLength];\r\n            for (let i = 0; i < numberOfHoles; i++) {\r\n                holes.push(this._rnd.integerInRange(0, totalLength - 1));\r\n            }\r\n\r\n            let current = 0;\r\n            holes = holes.sort((l, r) => l - r);\r\n            holes.forEach(hole => {\r\n                let length = hole - current;\r\n                if (length > 0 && current < totalLength) {\r\n                    this.addWall(area.x + current, pivot, length, isHorizontal);\r\n                }\r\n                current = hole + 1;\r\n            });\r\n\r\n            this.addWalls({\r\n                x: area.x,\r\n                y: area.y,\r\n                width: area.width,\r\n                height: pivot - area.y\r\n            });\r\n            this.addWalls({\r\n                x: area.x,\r\n                y: pivot,\r\n                width: area.width,\r\n                height: area.height - (pivot - area.y)\r\n            });\r\n        } else {\r\n            // Do not try to add walls on the outside of the area\r\n            let pivot = this._rnd.integerInRange(area.x + 1, area.x + area.width - 1);\r\n            let totalLength = area.height;\r\n\r\n            let numberOfHoles = this._rnd.integerInRange(1, totalLength / 2);\r\n            let holes = [totalLength];\r\n            for (let i = 0; i < numberOfHoles; i++) {\r\n                holes.push(this._rnd.integerInRange(0, totalLength - 1));\r\n            }\r\n\r\n            let current = 0;\r\n            holes = holes.sort((l, r) => l - r);\r\n            holes.forEach(hole => {\r\n                let length = hole - current;\r\n                if (length > 0 && current < totalLength) {\r\n                    this.addWall(pivot, area.y + current, length, isHorizontal);\r\n                }\r\n                current = hole + 1;\r\n            });\r\n\r\n            this.addWalls({\r\n                x: area.x,\r\n                y: area.y,\r\n                width: pivot - area.x,\r\n                height: area.height\r\n            });\r\n            this.addWalls({\r\n                x: pivot,\r\n                y: area.y,\r\n                width: area.width - (pivot - area.x),\r\n                height: area.height\r\n            });\r\n        }\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/Maze.ts\n **/","// http://codepen.io/mishaa/pen/raKzrm\r\n\r\nexport default class GlowFilter extends Phaser.Filter {\r\n    constructor(game: Phaser.Game, textureWidth, textureHeight, distance, outerStrength, innerStrength, color, quality) {\r\n        quality = Math.pow(quality, 1 / 3);\r\n        distance *= quality;\r\n        textureWidth *= quality;\r\n        textureHeight *= quality;\r\n    \r\n        this.uniforms = {\r\n            distance: { type: '1f', value: distance },\r\n            outerStrength: { type: '1f', value: null },\r\n            innerStrength: { type: '1f', value: null },\r\n            glowColor: { type: '4f', value: null },\r\n            pixelWidth: { type: '1f', value: null },\r\n            pixelHeight: { type: '1f', value: null },\r\n        };\r\n    \r\n        this.color = color;\r\n        this.outerStrength = outerStrength;\r\n        this.innerStrength = innerStrength;\r\n        this.textureWidth = textureWidth;\r\n        this.textureHeight = textureHeight;\r\n        //this.passes = [this];\r\n    \r\n        this.fragmentSrc = `\r\n            precision mediump float;\r\n            varying vec2 vTextureCoord;\r\n            uniform sampler2D texture;\r\n            uniform float distance;\r\n            uniform float outerStrength;\r\n            uniform float innerStrength;\r\n            uniform vec4 glowColor;\r\n            uniform float pixelWidth;\r\n            uniform float pixelHeight;\r\n            vec2 px = vec2(pixelWidth, pixelHeight);\r\n            void main(void) {\r\n                const float PI = 3.14159265358979323846264;\r\n                vec4 ownColor = texture2D(texture, vTextureCoord);\r\n                vec4 curColor;\r\n                float totalAlpha = 0.;\r\n                float maxTotalAlpha = 0.;\r\n                float cosAngle;\r\n                float sinAngle;\r\n                for (float angle = 0.; angle <= PI * 2.; angle += ${(1 / quality / distance).toFixed(7)} ) {\r\n                cosAngle = cos(angle);\r\n                sinAngle = sin(angle);\r\n                for (float curDistance = 1.; curDistance <= ${distance.toFixed(7)}; curDistance++) {\r\n                    curColor = texture2D(texture, vec2(vTextureCoord.x + cosAngle * curDistance * px.x, vTextureCoord.y + sinAngle * curDistance * px.y));\r\n                    totalAlpha += (distance - curDistance) * curColor.a;\r\n                    maxTotalAlpha += (distance - curDistance);\r\n                }\r\n                }\r\n                maxTotalAlpha = max(maxTotalAlpha, 0.0001);\r\n    \r\n                ownColor.a = max(ownColor.a, 0.0001);\r\n                ownColor.rgb = ownColor.rgb / ownColor.a;\r\n                float outerGlowAlpha = (totalAlpha / maxTotalAlpha)  * outerStrength * (1. - ownColor.a);\r\n                float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * innerStrength * ownColor.a;\r\n                float resultAlpha = (ownColor.a + outerGlowAlpha);\r\n                gl_FragColor = vec4(mix(mix(ownColor.rgb, glowColor.rgb, innerGlowAlpha / ownColor.a), glowColor.rgb, outerGlowAlpha / resultAlpha) * resultAlpha, resultAlpha);\r\n            }\r\n    `\r\n            super(game, this.uniforms, this.fragmentSrc);\r\n    }\r\n    \r\n    set color(value: number) {\r\n        let r = ((value & 0xFF0000) >> 16) / 255,\r\n            g = ((value & 0x00FF00) >> 8) / 255,\r\n            b = (value & 0x0000FF) / 255;\r\n        this.uniforms.glowColor.value = { x: r, y: g, z: b, w: 1 };\r\n        this.dirty = true;\r\n    }\r\n    \r\n    set outerStrength(value: number) {\r\n        this.uniforms.outerStrength.value = value;\r\n        this.dirty = true;\r\n    }\r\n    \r\n    set innerStrength(value: number) {\r\n        this.uniforms.innerStrength.value = value;\r\n        this.dirty = true;\r\n    }\r\n    \r\n    set textureWidth(value: number) {\r\n        this.uniforms.pixelWidth.value = 1 / value;\r\n        this.dirty = true;\r\n    }\r\n    \r\n    set textureHeight(value: number) {\r\n        this.uniforms.pixelHeight.value = 1 / value;\r\n        this.dirty = true;\r\n    }\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/filters/GlowFilter.ts\n **/","interface CollisionInformation {\r\n\tgroup: Phaser.Physics.P2.CollisionGroup,\r\n\tcollidesTo: Phaser.Physics.P2.CollisionGroup[]\r\n};\r\n\r\nexport default class CollisionManager {\r\n\tprivate _groups: {\r\n\t\t[index: string]: CollisionInformation\r\n\t}\r\n\t\r\n\tconstructor(game:Phaser.Game, config: Object) {\r\n\t\tthis._groups = {};\r\n\t\tlet groupNames = Object.keys(config);\r\n\r\n\t\tgroupNames.forEach(name => {\r\n\t\t\tthis._groups[name] = {\r\n\t\t\t\tgroup: game.physics.p2.createCollisionGroup(),\r\n\t\t\t\tcollidesTo: []\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tgroupNames.forEach(name => {\r\n\t\t\tthis._groups[name].collidesTo = config[name].map(otherName => this._groups[otherName].group)\r\n\t\t});\r\n\t}\r\n\r\n\tfind(group: Phaser.Group | string): CollisionInformation {\r\n\t\tlet name = typeof group === 'string' ? group : group.name;\r\n\t\treturn this._groups[name];\r\n\t}\r\n\t\r\n\treset(group: Phaser.Group) {\r\n\t\tlet info = this.find(group);\r\n\t\tgroup.callAll('body.setCollisionGroup', 'body', info.group);\r\n\t\tgroup.callAll('body.collides', 'body', info.collidesTo);\r\n\t}\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/components/CollisionManager.ts\n **/"],"sourceRoot":""}